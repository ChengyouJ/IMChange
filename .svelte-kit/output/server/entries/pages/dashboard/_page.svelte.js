import { c as create_ssr_component, d as each, e as escape, f as add_attribute } from "../../../chunks/ssr.js";
import "@sveltejs/kit/internal";
import "../../../chunks/exports.js";
import "../../../chunks/utils.js";
import "@sveltejs/kit/internal/server";
import "../../../chunks/state.svelte.js";
const css = {
  code: ".dashboard-grid.svelte-9dqt0d{display:grid;grid-template-columns:2fr 1fr;gap:2rem}.section.svelte-9dqt0d{background:white;padding:1.5rem;border-radius:0.5rem;box-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1)}.add-form.svelte-9dqt0d{margin-bottom:2rem;background:#f1f5f9;padding:1rem;border-radius:0.5rem}.form-row.svelte-9dqt0d{display:flex;gap:0.5rem}.danger-btn.svelte-9dqt0d{background:#fee2e2;color:#ef4444;padding:0.25rem 0.5rem;font-size:0.8rem}.badge.svelte-9dqt0d{padding:0.25rem 0.5rem;border-radius:999px;font-size:0.75rem;font-weight:500;text-transform:uppercase}.badge.available.svelte-9dqt0d{background:#dcfce7;color:#166534}.badge.reserved.svelte-9dqt0d{background:#fff7ed;color:#9a3412}.badge.pending.svelte-9dqt0d{background:#fef9c3;color:#854d0e}.badge.accepted.svelte-9dqt0d{background:#fee2e2;color:#166534;background:#dcfce7}.badge.rejected.svelte-9dqt0d{background:#fee2e2;color:#991b1b}.request-card.svelte-9dqt0d{border:1px solid #e2e8f0;padding:1rem;margin-bottom:0.5rem;border-radius:0.25rem}.actions.svelte-9dqt0d{display:flex;gap:0.5rem;margin-top:0.5rem}.accept-btn.svelte-9dqt0d{background:#22c55e}.reject-btn.svelte-9dqt0d{background:#ef4444}@media(max-width: 768px){.dashboard-grid.svelte-9dqt0d{grid-template-columns:1fr}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { enhance } from \\"$app/forms\\";\\n    export let data;\\n<\/script>\\n\\n<h1>Dashboard</h1>\\n\\n<div class=\\"dashboard-grid\\">\\n    <div class=\\"section inventory\\">\\n        <h2>My Surplus Inventory</h2>\\n\\n        <form method=\\"POST\\" action=\\"?/addItem\\" use:enhance class=\\"add-form\\">\\n            <h3>Add New Item</h3>\\n            <div class=\\"form-row\\">\\n                <input\\n                    name=\\"name\\"\\n                    placeholder=\\"Item Name (e.g. Pasta)\\"\\n                    required\\n                />\\n                <input\\n                    name=\\"quantity\\"\\n                    type=\\"number\\"\\n                    placeholder=\\"Qty\\"\\n                    required\\n                    style=\\"width: 80px\\"\\n                />\\n                <input\\n                    name=\\"unit\\"\\n                    placeholder=\\"Unit (kg/boxes)\\"\\n                    required\\n                    style=\\"width: 100px\\"\\n                />\\n            </div>\\n            <div class=\\"form-row\\">\\n                <input name=\\"expiry_date\\" type=\\"date\\" placeholder=\\"Expiry\\" />\\n                <button type=\\"submit\\">Add Item</button>\\n            </div>\\n        </form>\\n\\n        <table>\\n            <thead>\\n                <tr>\\n                    <th>Item</th>\\n                    <th>Qty</th>\\n                    <th>Status</th>\\n                    <th>Action</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                {#each data.items as item}\\n                    <tr>\\n                        <td>{item.name}</td>\\n                        <td>{item.quantity} {item.unit}</td>\\n                        <td>\\n                            <span class=\\"badge {item.status}\\"\\n                                >{item.status}</span\\n                            >\\n                        </td>\\n                        <td>\\n                            <form\\n                                method=\\"POST\\"\\n                                action=\\"?/deleteItem\\"\\n                                use:enhance\\n                            >\\n                                <input\\n                                    type=\\"hidden\\"\\n                                    name=\\"id\\"\\n                                    value={item.id}\\n                                />\\n                                <button class=\\"danger-btn\\">Delete</button>\\n                            </form>\\n                        </td>\\n                    </tr>\\n                {:else}\\n                    <tr><td colspan=\\"4\\">No items listed.</td></tr>\\n                {/each}\\n            </tbody>\\n        </table>\\n    </div>\\n\\n    <div class=\\"section requests\\">\\n        <h2>Incoming Requests</h2>\\n        {#if data.incomingRequests.length === 0}\\n            <p>No incoming requests.</p>\\n        {:else}\\n            <div class=\\"card-list\\">\\n                {#each data.incomingRequests as req}\\n                    <div class=\\"request-card\\">\\n                        <p>\\n                            <strong>{req.requester_name}</strong> requests\\n                            <strong>{req.item_name}</strong>\\n                        </p>\\n                        <p class=\\"status\\">Status: {req.status}</p>\\n                        {#if req.status === \\"pending\\"}\\n                            <div class=\\"actions\\">\\n                                <form\\n                                    method=\\"POST\\"\\n                                    action=\\"?/updateRequestStatus\\"\\n                                    use:enhance\\n                                >\\n                                    <input\\n                                        type=\\"hidden\\"\\n                                        name=\\"request_id\\"\\n                                        value={req.id}\\n                                    />\\n                                    <input\\n                                        type=\\"hidden\\"\\n                                        name=\\"status\\"\\n                                        value=\\"accepted\\"\\n                                    />\\n                                    <button class=\\"accept-btn\\">Accept</button>\\n                                </form>\\n                                <form\\n                                    method=\\"POST\\"\\n                                    action=\\"?/updateRequestStatus\\"\\n                                    use:enhance\\n                                >\\n                                    <input\\n                                        type=\\"hidden\\"\\n                                        name=\\"request_id\\"\\n                                        value={req.id}\\n                                    />\\n                                    <input\\n                                        type=\\"hidden\\"\\n                                        name=\\"status\\"\\n                                        value=\\"rejected\\"\\n                                    />\\n                                    <button class=\\"reject-btn\\">Reject</button>\\n                                </form>\\n                            </div>\\n                        {:else if req.status === \\"accepted\\"}\\n                            <p>Contact: {req.requester_email}</p>\\n                        {/if}\\n                    </div>\\n                {/each}\\n            </div>\\n        {/if}\\n\\n        <h2>My Requests</h2>\\n        {#if data.outgoingRequests.length === 0}\\n            <p>You haven't requested anything.</p>\\n        {:else}\\n            <div class=\\"card-list\\">\\n                {#each data.outgoingRequests as req}\\n                    <div class=\\"request-card\\">\\n                        <p>\\n                            Requested <strong>{req.item_name}</strong> from {req.donor_name}\\n                        </p>\\n                        <span class=\\"badge {req.status}\\">{req.status}</span>\\n                    </div>\\n                {/each}\\n            </div>\\n        {/if}\\n    </div>\\n</div>\\n\\n<style>\\n    .dashboard-grid {\\n        display: grid;\\n        grid-template-columns: 2fr 1fr;\\n        gap: 2rem;\\n    }\\n    .section {\\n        background: white;\\n        padding: 1.5rem;\\n        border-radius: 0.5rem;\\n        box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);\\n    }\\n    .add-form {\\n        margin-bottom: 2rem;\\n        background: #f1f5f9;\\n        padding: 1rem;\\n        border-radius: 0.5rem;\\n    }\\n    .form-row {\\n        display: flex;\\n        gap: 0.5rem;\\n    }\\n    .danger-btn {\\n        background: #fee2e2;\\n        color: #ef4444;\\n        padding: 0.25rem 0.5rem;\\n        font-size: 0.8rem;\\n    }\\n    .badge {\\n        padding: 0.25rem 0.5rem;\\n        border-radius: 999px;\\n        font-size: 0.75rem;\\n        font-weight: 500;\\n        text-transform: uppercase;\\n    }\\n    .badge.available {\\n        background: #dcfce7;\\n        color: #166534;\\n    }\\n    .badge.reserved {\\n        background: #fff7ed;\\n        color: #9a3412;\\n    }\\n    .badge.pending {\\n        background: #fef9c3;\\n        color: #854d0e;\\n    }\\n    .badge.accepted {\\n        background: #fee2e2;\\n        color: #166534;\\n        background: #dcfce7;\\n    } /* Logic error in color, fixing */\\n    .badge.rejected {\\n        background: #fee2e2;\\n        color: #991b1b;\\n    }\\n\\n    .request-card {\\n        border: 1px solid #e2e8f0;\\n        padding: 1rem;\\n        margin-bottom: 0.5rem;\\n        border-radius: 0.25rem;\\n    }\\n    .actions {\\n        display: flex;\\n        gap: 0.5rem;\\n        margin-top: 0.5rem;\\n    }\\n    .accept-btn {\\n        background: #22c55e;\\n    }\\n    .reject-btn {\\n        background: #ef4444;\\n    }\\n\\n    @media (max-width: 768px) {\\n        .dashboard-grid {\\n            grid-template-columns: 1fr;\\n        }\\n    }\\n</style>\\n"],"names":[],"mappings":"AA6JI,6BAAgB,CACZ,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,GAAG,CAAC,GAAG,CAC9B,GAAG,CAAE,IACT,CACA,sBAAS,CACL,UAAU,CAAE,KAAK,CACjB,OAAO,CAAE,MAAM,CACf,aAAa,CAAE,MAAM,CACrB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAC3C,CACA,uBAAU,CACN,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,OAAO,CACnB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,MACnB,CACA,uBAAU,CACN,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MACT,CACA,yBAAY,CACR,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,SAAS,CAAE,MACf,CACA,oBAAO,CACH,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,aAAa,CAAE,KAAK,CACpB,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,cAAc,CAAE,SACpB,CACA,MAAM,wBAAW,CACb,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACX,CACA,MAAM,uBAAU,CACZ,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACX,CACA,MAAM,sBAAS,CACX,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACX,CACA,MAAM,uBAAU,CACZ,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,OAChB,CACA,MAAM,uBAAU,CACZ,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACX,CAEA,2BAAc,CACV,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,MAAM,CACrB,aAAa,CAAE,OACnB,CACA,sBAAS,CACL,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MAAM,CACX,UAAU,CAAE,MAChB,CACA,yBAAY,CACR,UAAU,CAAE,OAChB,CACA,yBAAY,CACR,UAAU,CAAE,OAChB,CAEA,MAAO,YAAY,KAAK,CAAE,CACtB,6BAAgB,CACZ,qBAAqB,CAAE,GAC3B,CACJ"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { data } = $$props;
  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
  $$result.css.add(css);
  return `<h1 data-svelte-h="svelte-101alym">Dashboard</h1> <div class="dashboard-grid svelte-9dqt0d"><div class="section inventory svelte-9dqt0d"><h2 data-svelte-h="svelte-mosn4y">My Surplus Inventory</h2> <form method="POST" action="?/addItem" class="add-form svelte-9dqt0d" data-svelte-h="svelte-p3d25j"><h3>Add New Item</h3> <div class="form-row svelte-9dqt0d"><input name="name" placeholder="Item Name (e.g. Pasta)" required> <input name="quantity" type="number" placeholder="Qty" required style="width: 80px"> <input name="unit" placeholder="Unit (kg/boxes)" required style="width: 100px"></div> <div class="form-row svelte-9dqt0d"><input name="expiry_date" type="date" placeholder="Expiry"> <button type="submit">Add Item</button></div></form> <table><thead data-svelte-h="svelte-rxz8fk"><tr><th>Item</th> <th>Qty</th> <th>Status</th> <th>Action</th></tr></thead> <tbody>${data.items.length ? each(data.items, (item) => {
    return `<tr><td>${escape(item.name)}</td> <td>${escape(item.quantity)} ${escape(item.unit)}</td> <td><span class="${"badge " + escape(item.status, true) + " svelte-9dqt0d"}">${escape(item.status)}</span></td> <td><form method="POST" action="?/deleteItem"><input type="hidden" name="id"${add_attribute("value", item.id, 0)}> <button class="danger-btn svelte-9dqt0d" data-svelte-h="svelte-ctlvlq">Delete</button> </form></td> </tr>`;
  }) : `<tr data-svelte-h="svelte-palvv0"><td colspan="4">No items listed.</td></tr>`}</tbody></table></div> <div class="section requests svelte-9dqt0d"><h2 data-svelte-h="svelte-9v46n0">Incoming Requests</h2> ${data.incomingRequests.length === 0 ? `<p data-svelte-h="svelte-ro6gh9">No incoming requests.</p>` : `<div class="card-list">${each(data.incomingRequests, (req) => {
    return `<div class="request-card svelte-9dqt0d"><p><strong>${escape(req.requester_name)}</strong> requests
                            <strong>${escape(req.item_name)}</strong></p> <p class="status">Status: ${escape(req.status)}</p> ${req.status === "pending" ? `<div class="actions svelte-9dqt0d"><form method="POST" action="?/updateRequestStatus"><input type="hidden" name="request_id"${add_attribute("value", req.id, 0)}> <input type="hidden" name="status" value="accepted"> <button class="accept-btn svelte-9dqt0d" data-svelte-h="svelte-qsaej6">Accept</button></form> <form method="POST" action="?/updateRequestStatus"><input type="hidden" name="request_id"${add_attribute("value", req.id, 0)}> <input type="hidden" name="status" value="rejected"> <button class="reject-btn svelte-9dqt0d" data-svelte-h="svelte-1eg45vu">Reject</button></form> </div>` : `${req.status === "accepted" ? `<p>Contact: ${escape(req.requester_email)}</p>` : ``}`} </div>`;
  })}</div>`} <h2 data-svelte-h="svelte-s7z092">My Requests</h2> ${data.outgoingRequests.length === 0 ? `<p data-svelte-h="svelte-1x9swwk">You haven&#39;t requested anything.</p>` : `<div class="card-list">${each(data.outgoingRequests, (req) => {
    return `<div class="request-card svelte-9dqt0d"><p>Requested <strong>${escape(req.item_name)}</strong> from ${escape(req.donor_name)}</p> <span class="${"badge " + escape(req.status, true) + " svelte-9dqt0d"}">${escape(req.status)}</span> </div>`;
  })}</div>`}</div> </div>`;
});
export {
  Page as default
};
